/**
 * Baltazzar Paginator
 * Versão: 0.1.1
 * Módulo front-end de paginação de dados.
 * Autor: Victor Bastos
 */
this.Handlebars=this.Handlebars||{},this.Handlebars.templates=this.Handlebars.templates||{},this.Handlebars.templates["paginator/paginator.tpl"]=Handlebars.template(function(t,e,n,i,a){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),a=a||{},'<div class="form-inline paginator pull-right">\r\n	<label style="font-weight:normal;">\r\n		<select class="form-control input-sm per-page">\r\n			<option value="10" selected="selected">10 por página</option>\r\n			<option value="20">20 por página</option>\r\n			<option value="30">30 por página</option>\r\n			<option value="40">40 por página</option>\r\n			<option value="50">50 por página</option>\r\n		</select>\r\n	</label>\r\n\r\n	<button class="btn btn-sm btn-default btn-first"><i class="glyphicon glyphicon-fast-backward"></i></button>\r\n	<button class="btn btn-sm btn-default btn-previous"><i class="glyphicon glyphicon-backward"></i></button>\r\n\r\n	<label style="font-weight:normal;">\r\n		<span>Página <input type="text" class="form-control input-sm current-page" style="width:50px;"></span>\r\n	</label>\r\n\r\n	<label style="font-weight:normal;">\r\n		<span>de <strong class="total-pages"></strong></span>\r\n	</label>\r\n\r\n	<button class="btn btn-sm btn-default btn-next"><i class="glyphicon glyphicon-forward"></i></button>\r\n	<button class="btn btn-sm btn-default btn-last"><i class="glyphicon glyphicon-fast-forward"></i></button>\r\n\r\n	<span>Exibindo <strong class="shown-items-de"></strong> à <strong class="shown-items-a"></strong> de <strong class="total-items"></strong> registros</span>\r\n</div>'}),define("templates",function(){}),define("views/paginator",["require","exports","module","marionette"],function(t,e,n){var i=t("marionette");t(["../templates"]),n.exports=i.ItemView.extend({template:"paginator/paginator.tpl",events:{"submit form":function(){return!1},"click .btn-first":"goToFirstPage","click .btn-last":"goToLastPage","click .btn-previous":"goToPrevPage","click .btn-next":"goToNextPage","change .per-page":"perPage","keyup .current-page":"goToPage"},initialize:function(){this.listenTo(this.collection,"all",_.debounce(this.updatePaginatorEls,300)),this.render(),this.updatePaginatorEls(),this.options.logTemplate&&this.logTemplate()},logTemplate:function(){var t=this.el.innerHTML;t=t.replace(/\n\n/g,"\n"),console.log("#################### TEMPLATE DO PAGINATOR ####################\n"),console.log(t)},goToFirstPage:function(t){t.preventDefault(),this.collection.firstPage()},goToLastPage:function(t){t.preventDefault(),this.collection.lastPage()},goToPrevPage:function(t){t.preventDefault(),this.collection.prevPage()},goToNextPage:function(t){t.preventDefault(),this.collection.nextPage()},goToPage:function(t){t.preventDefault(),13===t.keyCode&&this.collection.toPage(t.currentTarget.value)},perPage:function(t){t.preventDefault();var e=this.$(".per-page").val();this.collection.perPage(e)},updatePaginatorEls:function(){var t=this.collection.itemOffset,e=this.collection.length+this.collection.itemOffset-1;0===this.collection.length&&(e=0),this.$(".current-page").val(this.collection.currentPage),this.$(".total-pages").html(this.collection.pageCount),this.$(".shown-items-de").html(t),this.$(".shown-items-a").html(e),this.$(".total-items").html(this.collection.itemCount),1==this.collection.currentPage?(this.$(".btn-first").prop("disabled",!0),this.$(".btn-previous").prop("disabled",!0)):(this.$(".btn-first").prop("disabled",!1),this.$(".btn-previous").prop("disabled",!1)),this.collection.currentPage==this.collection.pageCount?(this.$(".btn-last").prop("disabled",!0),this.$(".btn-next").prop("disabled",!0)):(this.$(".btn-last").prop("disabled",!1),this.$(".btn-next").prop("disabled",!1)),1==this.collection.pageCount?(this.$(".current-page").prop("disabled",!0),this.$(".per-page").prop("disabled",!0)):(this.$(".current-page").prop("disabled",!1),this.$(".per-page").prop("disabled",!1))}})}),define("pagedCollection",["require","exports","module","backbone"],function(t,e,n){var i=t("backbone");n.exports=i.Collection.extend({queryObj:{itens_per_page:10},initialize:function(){this.callFetch({page:1})},callFetch:function(t){return t&&t.itens_per_page&&(this.queryObj=_.extend({page:1},t)),this.queryObj=_.extend(this.queryObj,t),this.fetch({async:!1,data:this.queryObj})},perPage:function(t){this.queryObj.itens_per_page=t,this.callFetch({page:1})},toPage:function(t){t=t<=this.pageCount?t:this.pageCount,this.callFetch({page:t})},firstPage:function(){this.callFetch({page:1})},lastPage:function(){this.callFetch({page:this.pageCount})},nextPage:function(){this.currentPage<this.pageCount&&this.callFetch({page:this.currentPage+1})},prevPage:function(){this.currentPage>1&&this.callFetch({page:this.currentPage-1})},parse:function(t){return t.data?(this.currentPage=t.data.currentPage,this.pageCount=t.data.pageCount,this.itemCount=t.data.itemCount,this.itemOffset=t.data.itemOffset,t.data.itemList):void 0}})}),define("paginator",["require","exports","module","jquery","./views/paginator","./pagedCollection"],function(t,e){var n=t("jquery"),i=t("./views/paginator"),a=t("./pagedCollection");n.fn.Paginator=function(t){return t.el=this,new i(t)},e.PagedCollection=a});